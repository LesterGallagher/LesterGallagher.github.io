(function(){
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function($target$$,$property$$,$descriptor$$){$target$$!=Array.prototype&&$target$$!=Object.prototype&&($target$$[$property$$]=$descriptor$$.value)};
$jscomp.getGlobal=function $$jscomp$getGlobal$($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function $$jscomp$polyfill$($property$jscomp$5_split_target$$,$impl_polyfill$$,$fromLang_obj$$,$i$$){if($impl_polyfill$$){$fromLang_obj$$=$jscomp.global;$property$jscomp$5_split_target$$=$property$jscomp$5_split_target$$.split(".");for($i$$=0;$i$$<$property$jscomp$5_split_target$$.length-1;$i$$++){var $key$$=$property$jscomp$5_split_target$$[$i$$];$key$$ in $fromLang_obj$$||($fromLang_obj$$[$key$$]={});$fromLang_obj$$=$fromLang_obj$$[$key$$]}$property$jscomp$5_split_target$$=$property$jscomp$5_split_target$$[$property$jscomp$5_split_target$$.length-
1];$i$$=$fromLang_obj$$[$property$jscomp$5_split_target$$];$impl_polyfill$$=$impl_polyfill$$($i$$);$impl_polyfill$$!=$i$$&&null!=$impl_polyfill$$&&$jscomp.defineProperty($fromLang_obj$$,$property$jscomp$5_split_target$$,{configurable:!0,writable:!0,value:$impl_polyfill$$})}};
$jscomp.polyfill("Array.prototype.fill",function($orig$$){return $orig$$?$orig$$:function($value$$,$i$$,$opt_end$$){var $length$$=this.length||0;0>$i$$&&($i$$=Math.max(0,$length$$+$i$$));if(null==$opt_end$$||$opt_end$$>$length$$)$opt_end$$=$length$$;$opt_end$$=Number($opt_end$$);0>$opt_end$$&&($opt_end$$=Math.max(0,$length$$+$opt_end$$));for($i$$=Number($i$$||0);$i$$<$opt_end$$;$i$$++)this[$i$$]=$value$$;return this}},"es6","es3");
var Architect=window.synaptic.Architect,Trainer=window.synaptic.Trainer,Jimp=window.Jimp,int=Math.floor,catagorical=function $catagorical$($i$$){var $arr$$=Array(26).fill(0);$arr$$[$i$$]=1;return $arr$$},neuralNetwork=new Architect.Perceptron(26,26,256);window.ImageWriterNeuralNet={};
window.ImageWriterNeuralNet.train=function $window$ImageWriterNeuralNet$train$(){return Jimp.loadFont(Jimp.FONT_SANS_16_BLACK).then(function($font$$){for(var $trainingData$$=Array(26),$$jscomp$loop$0$$={},$i$jscomp$0$$=0;26>$i$jscomp$0$$;$$jscomp$loop$0$$={d:$$jscomp$loop$0$$.d},$i$jscomp$0$$++){var $letter$$=String.fromCharCode(65+$i$jscomp$0$$),$image$$=new Jimp(16,16);$image$$.opaque();$image$$.brightness(1);$image$$.print($font$$,0,0,$letter$$);$$jscomp$loop$0$$.d=$image$$.bitmap.data;$trainingData$$[$i$jscomp$0$$]=
{input:catagorical($i$jscomp$0$$),output:Array(256).fill(0).map(function($$jscomp$loop$0$$){return function($x$$,$i$$){return $$jscomp$loop$0$$.d[4*$i$$]+$$jscomp$loop$0$$.d[4*$i$$+1]+$$jscomp$loop$0$$.d[4*$i$$+2]}}($$jscomp$loop$0$$)).map(function($c$$){return $c$$/765})}}$font$$=new Trainer(neuralNetwork);console.log("Please wait... This might take up to 10 minutes.");$font$$.train($trainingData$$,{iterations:300,rate:.04});console.log("Done training!")})};window.ImageWriterNeuralNet.save=function $window$ImageWriterNeuralNet$save$(){return neuralNetwork.toJSON()};
window.ImageWriterNeuralNet.load=function $window$ImageWriterNeuralNet$load$($nn$$){return neuralNetwork.fromJSON($nn$$)};
window.ImageWriterNeuralNet.writeLetter=function $window$ImageWriterNeuralNet$writeLetter$($letter$$){var $code$jscomp$1_image$$=$letter$$.toUpperCase().trim().charCodeAt(0);if(65>$code$jscomp$1_image$$||90<$code$jscomp$1_image$$)throw'Invalid letter "'+$letter$$+'"';$letter$$=neuralNetwork.activate(catagorical($code$jscomp$1_image$$-65));var $col$$=function $$col$$$($x$$){return Math.max(0,Math.min(255,255*$x$$))};$code$jscomp$1_image$$=new Jimp(16,16);$code$jscomp$1_image$$.bitmap.data=[].concat.apply([],
$letter$$.map(function($c$$){return[$c$$,$c$$,$c$$,1].map($col$$)}));return $code$jscomp$1_image$$};
}).call(this)

//# sourceMappingURL=neural-net-image-writer.min.js.map
